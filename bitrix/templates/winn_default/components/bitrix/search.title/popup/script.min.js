$(document).ready(function(){"use strict";var o,e=!1,t=($("body"),$(".search-popup"));t.hasClass("search-popup--top")?o="top":t.hasClass("search-popup--full")&&(o="full");var l=function(){$(".title-search-result").css({zIndex:99999}),t.find("input:eq(0)").focus()},s=function(){e||(e=!0,"full"==o?($("html").addClass("disable-scroll"),t.css({display:"block"}).velocity({opacity:1},{duration:400,complete:l})):"top"==o&&(RS.Utils.overlay.show(),$(".l-page").addClass("filter-blur"),t.css({display:"block"}).velocity("transition.slideDownInFull",{duration:400,complete:l}),$(document).on("click.outside",function(o){$(o.target)==t||$(o.target).closest(t).length||i()})),setTimeout(function(){t.addClass("is-open")},200))},c=function(){$("html.disable-scroll").removeClass("disable-scroll"),t.removeClass("is-open").css({display:"none"}),e=!1},i=function(){if(e)switch($(".title-search-result:visible").hide(),o){case"full":t.velocity({opacity:"0"},{duration:300,complete:c});break;case"top":RS.Utils.overlay.hide(),t.velocity("transition.slideDownOutFull",{duration:500,complete:c}),$(document).off("click.outside")}};$(document).on("click","[data-open-search-popup]",function(){s()}),t.on("click","[data-close-search-popup]",function(){i()}),$(document).keyup(function(o){27===o.keyCode&&i()})});